var e=Object.defineProperty,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;import{j as n}from"./index-c258a174.js";import{r as o}from"./react-vendor-15696a99.js";const c='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600"%3E%3Crect fill="%23f1f5f9" width="800" height="600"/%3E%3C/svg%3E',l=e=>{var l=e,{src:i="",alt:f="",className:u="",placeholder:p=c,fallbackSrc:g}=l,d=((e,s)=>{var n={};for(var o in e)t.call(e,o)&&s.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&r)for(var o of r(e))s.indexOf(o)<0&&a.call(e,o)&&(n[o]=e[o]);return n})(l,["src","alt","className","placeholder","fallbackSrc"]);const[v,m]=o.useState(!1),[h,w]=o.useState(!1),[b,y]=o.useState(i),S=o.useRef(null),x=o.useRef(!1);o.useEffect(()=>{if(!S.current)return;const e=new IntersectionObserver(r=>{r.forEach(r=>{r.isIntersecting&&(w(!0),e.disconnect())})},{rootMargin:"50px"});return e.observe(S.current),()=>{e.disconnect()}},[]),o.useEffect(()=>{i&&(y(i),x.current=!1,m(!1))},[i]);const O=h?b:p;return n.jsx("img",((e,n)=>{for(var o in n||(n={}))t.call(n,o)&&s(e,o,n[o]);if(r)for(var o of r(n))a.call(n,o)&&s(e,o,n[o]);return e})({ref:S,src:O,alt:f,className:`${u} transition-opacity duration-300 ${v?"opacity-100":"opacity-0"}`,onLoad:()=>m(!0),loading:"lazy",decoding:"async",onError:()=>{g&&!x.current&&(x.current=!0,y(g),m(!1))}},d))},i=(e,r={})=>{const{width:t,height:a,quality:s=80,fit:n}=r,o=e.replace(/^https?:\/\//,""),c=new URLSearchParams({url:`ssl:${o}`,output:"webp",dpr:"1",default:`ssl:${o}`});return t&&c.set("w",String(t)),a&&c.set("h",String(a)),s&&c.set("q",String(s)),n&&c.set("fit",n),`https://images.weserv.nl/?${c.toString()}`};export{l as L,i as c};
